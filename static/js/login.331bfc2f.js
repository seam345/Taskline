(function(e){function t(t){for(var o,l,s=t[0],i=t[1],u=t[2],d=0,f=[];d<s.length;d++)l=s[d],r[l]&&f.push(r[l][0]),r[l]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);c&&c(t);while(f.length)f.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],o=!0,s=1;s<n.length;s++){var i=n[s];0!==r[i]&&(o=!1)}o&&(a.splice(t--,1),e=l(l.s=n[0]))}return e}var o={},r={login:0},a=[];function l(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,l),n.l=!0,n.exports}l.m=e,l.c=o,l.d=function(e,t,n){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(l.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)l.d(n,o,function(t){return e[t]}.bind(null,o));return n},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],i=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var c=i;a.push([1,"chunk-vendors"]),n()})({"0f21":function(e,t,n){"use strict";var o=n("50c8"),r=n.n(o);r.a},1:function(e,t,n){e.exports=n("352f")},"352f":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("LoginComponent")],1)},a=[],l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root-div"},[n("h1",[e._v("Welcome to Taskline")]),n("h1",[e._v("\n    A GanttChart view for\n    "),n("img",{attrs:{height:"40px",src:"./trello-logo-blue.svg"}})]),n("button",{on:{click:function(t){return e.trelloLogin()}}},[n("img",{attrs:{height:"20px",src:"./trello-mark-blue.svg"}}),e._v(" Log in with Trello\n  ")]),e._m(0)])},s=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("p",[e._v("\n    All data for this application is stored either on your machine or on\n    Trello."),n("br"),e._v("I created Taskline as a way to visualise my Trello cards\n    differenly\n  ")])}],i=n("947f"),u=n("9f27"),c={name:"LoginComponent",created:function(){u["a"].removeToken()},methods:{trelloLogin:function(){console.log(i["a"].createAuthURL()),window.location.href=i["a"].createAuthURL()}}},d=c,f=(n("e864"),n("2877")),g=Object(f["a"])(d,l,s,!1,null,"7d437b32",null),m=g.exports,p={components:{LoginComponent:m},created:function(){console.log("login.vue")}},h=p,v=(n("0f21"),Object(f["a"])(h,r,a,!1,null,null,null)),k=v.exports,y=n("ed18"),b=n.n(y);b.a.config(),o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(k)}}).$mount("#app")},"50c8":function(e,t,n){},"947f":function(e,t,n){"use strict";n.d(t,"a",function(){return h});n("28a5");var o=n("795b"),r=n.n(o),a=(n("7f7f"),n("bc3a")),l=n.n(a),s=n("9f27"),i="/trello_auth_token",u="30days",c="Taskline",d="read,write",f="https://trello.com/1/authorize",g=f+"?expiration="+u+"&name="+c+"&key=fae4aba42ec685fde7120ad7650fe578&scope="+d,m="https://api.trello.com/1",p="Trello start date ID",h={currentBoardID:"",createAuthURL:function(){return console.log("http://mytaskline.co.uk/"),console.log(g+"&return_url=http://mytaskline.co.uk/"+i),g+"&return_url=http://mytaskline.co.uk/"+i},getListDetails:function(){return[{id:"1",name:"Trello Boards",populateFunction:this.getBoardList,getItemsFunction:this.getCardsInBoard,displayList:[],currentlySelected:""},{id:"2",name:"Board Lists",populateFunction:this.getListList,getItemsFunction:this.getCardsInList,displayList:[],currentlySelected:""}]},getOptions:function(){return[{}]},getBoardList:function(){var e="/members/me/boards",t="?key=fae4aba42ec685fde7120ad7650fe578&token="+s["a"].getToken();return l.a.get(m+e+t).then(function(e){return console.log(e),e.data})},getListList:function(e){console.log("getListList @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Called"),console.log(e);var t="/boards/"+e+"/lists",n="?key=fae4aba42ec685fde7120ad7650fe578&token="+s["a"].getToken();return l.a.get(m+t+n).then(function(e){return console.log(e),e.data})},getCardsInBoard:function(e){h.currentBoardID=e,console.log("getCardsInBoard @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Called"),console.log(e);var t="/boards/"+e+"/cards",n="?key=fae4aba42ec685fde7120ad7650fe578&customFieldItems=true&token="+s["a"].getToken();return h.getStartDate(e).then(function(e){return l.a.get(m+t+n).then(function(t){return console.log(t),console.log(e),console.log(),h.convertTrelloCardsToTaskLineTasks(e,t.data)})})},getCardsInList:function(e){console.log("getCardsInList @@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@ Called"),console.log(e);var t="/lists/"+e+"/cards",n="?key=fae4aba42ec685fde7120ad7650fe578&customFieldItems=true&token="+s["a"].getToken();return h.getStartDate(h.currentBoardID).then(function(e){return l.a.get(m+t+n).then(function(t){return console.log(t),console.log(e),console.log(),h.convertTrelloCardsToTaskLineTasks(e,t.data)})})},getValidCustomFieldStartDates:function(e){for(var t=[],n=0;n<e.length;n++)"date"===e[n]["type"]&&h.nameIsStartDate(e[n]["name"])&&t.push(e[n]);return t},updateCardDates:function(e){return h.getStartDate(h.currentBoardID).then(function(t){var n=s["a"].getToken(),o="fae4aba42ec685fde7120ad7650fe578",r=m+"/card/"+e.id+"/customField/"+t+"/item";return l.a.put(r,{value:{date:e.startDate},key:o,token:n}).then(function(t){console.log(t);var r="?key="+o+"&token="+n,a=m+"/card/"+e.id+r+"&due="+e.endDate;return l.a.put(a).then(function(e){return console.log("hey"),console.log(e),e})})})},getStartDate:function(e){return new r.a(function(t){var n=null;try{var o=localStorage.getItem(p);if(null!=o){var r=o.split(" ");r[1]===e&&(n=r[0])}}catch(a){console.log(a)}t(n)}).then(function(t){if(null!=t)return t;var n="?key=fae4aba42ec685fde7120ad7650fe578&customFieldItems=true&token="+s["a"].getToken(),o="/boards/"+e+"/customFields";return l.a.get(m+o+n).then(function(t){console.log("getCustomKeys@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"),console.log(t),console.log(h.getValidCustomFieldStartDates(t.data));var n=h.getValidCustomFieldStartDates(t.data)[0];return localStorage.setItem(p,n["id"]+" "+e),console.log("getCustomKeys@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@@"),n["id"]})})},nameIsStartDate:function(e){var t=e.toLowerCase();return"startdate"===t||("start date"===t||("start dates"===t||"startdates"===t))},convertTrelloCardsToTaskLineTasks:function(e,t){for(var n=[],o=0;o<t.length;o++){var r={id:Math.random(),tasks:[]},a={name:"",startDate:null,endDate:null,id:Math.random(),left:0,width:0};a.id=t[o]["id"],a.name=t[o]["name"],a.endDate=t[o]["due"];for(var l=0;l<t[o]["customFieldItems"].length;l++)t[o]["customFieldItems"][l]["idCustomField"]===e&&(a.startDate=t[o]["customFieldItems"][l]["value"]["date"]);r.tasks.push(a),n.push(r)}return n}}},"9d0e":function(e,t,n){},"9f27":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var o="access_token",r={getToken:function(){return localStorage.getItem(o)},saveToken:function(e){localStorage.setItem(o,e)},removeToken:function(){localStorage.removeItem(o)}}},e864:function(e,t,n){"use strict";var o=n("9d0e"),r=n.n(o);r.a}});
//# sourceMappingURL=login.331bfc2f.js.map